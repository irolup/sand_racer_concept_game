[gd_scene load_steps=8 format=3 uid="uid://dlqlbolwrk3r6"]

[ext_resource type="Script" uid="uid://dtdoaklnq52mt" path="res://Vehicle/vehicle.gd" id="1_nd4yr"]
[ext_resource type="Script" uid="uid://b6i8pargc80xr" path="res://Vehicle/car_base.gd" id="1_qrlt3"]
[ext_resource type="PackedScene" uid="uid://dngixewwfraes" path="res://Vehicle/meshes/wheel_mesh.tscn" id="2_02nnm"]
[ext_resource type="Script" uid="uid://bc225rntcnlr3" path="res://Vehicle/follow_camera.gd" id="3_ds2u6"]

[sub_resource type="PhysicsMaterial" id="PhysicsMaterial_ds2u6"]
friction = 0.5

[sub_resource type="BoxMesh" id="BoxMesh_qrlt3"]
size = Vector3(1, 0.6, 2)

[sub_resource type="BoxShape3D" id="BoxShape3D_3hqma"]
size = Vector3(1, 0.6, 2)

[node name="CarBase" type="Node3D"]
script = ExtResource("1_qrlt3")

[node name="Body" type="VehicleBody3D" parent="."]
physics_material_override = SubResource("PhysicsMaterial_ds2u6")
center_of_mass_mode = 1
script = ExtResource("1_nd4yr")

[node name="Wheel1" type="VehicleWheel3D" parent="Body"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.5, 0.5, 1)
use_as_traction = true
use_as_steering = true
wheel_roll_influence = 0.4
wheel_radius = 0.25
wheel_friction_slip = 1.0
suspension_stiffness = 40.0
damping_compression = 0.88
damping_relaxation = 0.8

[node name="WheelMesh" parent="Body/Wheel1" instance=ExtResource("2_02nnm")]

[node name="Wheel2" type="VehicleWheel3D" parent="Body"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -0.5, 0.5, 1)
use_as_traction = true
use_as_steering = true
wheel_roll_influence = 0.4
wheel_radius = 0.25
wheel_friction_slip = 1.0
suspension_stiffness = 40.0
damping_compression = 0.88
damping_relaxation = 0.8

[node name="WheelMesh" parent="Body/Wheel2" instance=ExtResource("2_02nnm")]

[node name="Wheel3" type="VehicleWheel3D" parent="Body"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -0.5, 0.5, -1)
use_as_traction = true
wheel_roll_influence = 0.4
wheel_radius = 0.25
wheel_friction_slip = 1.0
suspension_travel = 2.0
suspension_stiffness = 40.0
damping_compression = 0.88
damping_relaxation = 0.8

[node name="WheelMesh" parent="Body/Wheel3" instance=ExtResource("2_02nnm")]

[node name="Wheel4" type="VehicleWheel3D" parent="Body"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.5, 0.5, -1)
use_as_traction = true
wheel_roll_influence = 0.4
wheel_radius = 0.25
wheel_friction_slip = 1.0
suspension_travel = 2.0
suspension_stiffness = 40.0
damping_compression = 0.88
damping_relaxation = 0.8

[node name="WheelMesh" parent="Body/Wheel4" instance=ExtResource("2_02nnm")]

[node name="Body" type="MeshInstance3D" parent="Body"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1, 0)
gi_mode = 2
mesh = SubResource("BoxMesh_qrlt3")

[node name="CollisionShape3D" type="CollisionShape3D" parent="Body"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1, 0)
shape = SubResource("BoxShape3D_3hqma")

[node name="InteriorCameraPosition" type="Marker3D" parent="Body"]
transform = Transform3D(-1, 0, -8.74228e-08, 0, 1, 0, 8.74228e-08, 0, -1, 0, 1, 1)

[node name="TopDownCameraPosition" type="Marker3D" parent="Body"]
transform = Transform3D(1, 0, 0, 0, -4.37114e-08, -1, 0, 1, -4.37114e-08, 0, 8, 0)

[node name="CameraBase" type="Node3D" parent="Body"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 2, 0)

[node name="Camera" type="Camera3D" parent="Body/CameraBase"]
transform = Transform3D(-1, 3.65292e-08, -1.46511e-07, 0, 0.970296, 0.241922, 1.50996e-07, 0.241922, -0.970296, 0, 0.715, -3)
near = 0.1
script = ExtResource("3_ds2u6")
min_distance = 4.0
max_distance = 5.0
height = 2.0
target_node_path = NodePath("../..")
orbit_distance = 5.0
orbit_pitch_min = -10.0
